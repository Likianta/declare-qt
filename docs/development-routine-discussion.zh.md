# 探讨一下 declare-qt 项目的技术路线的选型

## 对 QtWidgets 进行封装, 创造声明式结构和类 QML 属性绑定

缺点:

- QWidget 不能单独设置和观察 x/y, width/height 变化信号
    - 解决方案: 观察 pos, size 变化
- QSS 不支持动画
    - 解决方案: 自行封装动画方法
- 属性动画难以构造
    - 解决方案: 自行封装动画方法
- 缺少锚点系统
    - 解决方案: 自己实现锚点系统
- ...

_TODO_

## 通过分析 Python 语法树来生成 QML 代码

缺点:

- 工作量巨大
- 难度过高
- ...

解决方案:

- 深入学习 ast (备注: 预计不能解决所有问题)

_TODO_

## 利用 Python 的语法特性来生成 QML 代码

缺点:

- 在 app.build 完成界面化后, 这时候再去操作函数内的对象非常地魔法
- 同样绕不开 python 与 qml 对象交互的问题 (指界面化时期)

_TODO_

## 用最小的力量在 QML 端创建好对象后, 尽可能在 Python 端操作对象

缺点:

- 性能下降严重
- QML 特性语法在 Python 中难以实现, 或者代码量大幅增加
- 一些 QML 属性无法转换为 Python 对象
- ...

_TODO_
